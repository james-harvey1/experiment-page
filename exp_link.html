<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experiment Links</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        h1 {
            text-align: center;
        }
        .link-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }
        .link-container a {
            text-decoration: none;
            background-color: #E03A3E; /* Red */
            color: white;
            padding: 10px 20px;
            margin: 10px;
            border-radius: 4px;
            font-size: 16px;
            transition: background-color 0.3s ease;
            display: inline-block;
        }
        .link-container a:hover {
            background-color: #C0292D; /* Darker red on hover */
        }
        @media (max-width: 400px) {
            .link-container a {
                font-size: 14px;
                padding: 8px 16px;
            }
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        .header h1 {
            font-size: 2em;
            margin-bottom: 10px;
        }
        .header p {
            font-style: italic;
            color: #777;
        }
        footer {
            position: fixed;
            left: 0;
            bottom: 0;
            width: 100%;
            background-color: #f0f0f0;
            padding: 10px;
            display: flex;
            justify-content: space-between; /* Important for spacing */
            align-items: center;
        }
        .footer-left, .footer-right {
            text-align: center;
        }
        .footer-right {
            margin-right: 30px; /* Consistent margin with id_entry.html */
        }
        .footer-left img, .footer-right img {
            max-width: 100px;
            height: auto;
            display: block;
            margin: 0 auto 5px;
        }
        @media (max-width: 600px) {
            footer {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
            .footer-left, .footer-right {
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>

    <script>
        if (!navigator.userAgent.includes('Chrome')) {
            alert("Please use Google Chrome to access this page.");
            window.location.href = "chrome_required.html";
            throw new Error("Chrome Required");
        }

        const storedId = localStorage.getItem('participantId');

        if (!storedId) {
            alert("Participant ID not found. Please enter your ID.");
            window.location.href = "id_entry.html";
        } else {
            // Create header dynamically
            const header = document.createElement('div');
            header.className = 'header';
            header.innerHTML = `<h1>Experimental Links</h1><p>Please proceed to experiments as directed and do not move ahead.</p>`;
            document.body.appendChild(header);

            // Create link container dynamically
            const linkContainer = document.createElement('div');
            linkContainer.className = 'link-container';
            linkContainer.id = 'experimentLinks';
            document.body.appendChild(linkContainer);

            // Add experiment links dynamically
            const experimentLinksDiv = document.getElementById('experimentLinks');

            // URL encode the stored ID
            const encodedId = encodeURIComponent(storedId);

            // Processing Speed Experiment Link (Corrected URL format)
            const processingSpeedLink = document.createElement('a');
            processingSpeedLink.href = `https://farm.pcibex.net/r/ZszkxV/experiment.html?id=${encodedId}`; // Correct format: ?id=value
            processingSpeedLink.textContent = "Processing Speed Experiment";
            experimentLinksDiv.appendChild(processingSpeedLink);

            // Example: Add more links as needed (following the same pattern)
            const link2 = document.createElement('a');
            link2.href = "your_experiment_link_2.html"; // Replace with your actual link
            link2.textContent = "Experiment 2";
            experimentLinksDiv.appendChild(link2);


            // Example 2: Dynamically create links from an array (replace with your data)
            const experimentUrls = [
                { url: "your_experiment_link_3.html", text: "Experiment 3" },
                { url: "your_experiment_link_4.html", text: "Experiment 4" },
                // ... more links
            ];

            experimentUrls.forEach(exp => {
                const link = document.createElement('a');
                link.href = exp.url;
                link.textContent = exp.text;
                experimentLinksDiv.appendChild(link);
            });
        }
    </script>

    <footer>
        <div class="footer-left">
            <img src="university_of_maryland_logo.png" alt="University of Maryland Logo"> <br>
            University of Maryland<br>
            College Park
        </div>
        <div class="footer-right">
            <img src="aphasia_research_center_logo.png" alt="Aphasia Research Center Logo"> <br>
            Aphasia Research Center
        </div>
    </footer>

</body>
</html>
