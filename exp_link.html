<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experiment Links</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f4f4f9;
        }

        h1 {
            text-align: center;
        }

        .link-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }

        .link-container a {
            text-decoration: none;
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            margin: 10px;
            border-radius: 4px;
            font-size: 16px;
            transition: background-color 0.3s ease;
            display: inline-block; /* Prevent line break between icon and text */
        }

        .link-container a:hover {
            background-color: #45a049;
        }

        /* Responsive adjustments */
        @media (max-width: 400px) {
            .link-container a {
                font-size: 14px; /* Smaller font on smaller screens */
                padding: 8px 16px; /* Smaller padding */
            }
        }
    </style>
</head>
<body>

    <script>
        // Browser Check (Chrome)
        if (!navigator.userAgent.includes('Chrome')) {
            alert("Please use Google Chrome to access this page.");
            // Or redirect: window.location.href = "chrome_required.html";
        }

        const storedId = localStorage.getItem('participantId');

        if (!storedId) {
            alert("Participant ID not found. Please enter your ID.");
            window.location.href = "id_entry.html";
        } else {
            document.write(`<h1>Welcome, Participant ${storedId}</h1>`);
            document.write("<p>Please choose one of the following experiment links to proceed:</p>");
            document.write('<div class="link-container" id="experimentLinks"></div>');

            const experimentLinksDiv = document.getElementById('experimentLinks');
            const experimentBaseUrl = "https://www.pcibex.net/experiment_url_here"; // **REPLACE THIS WITH YOUR ACTUAL URL**
            const numExperiments = 3;

            for (let i = 1; i <= numExperiments; i++) {
                const link = document.createElement('a');
                link.href = `${experimentBaseUrl}?participant_id=${encodeURIComponent(storedId)}`;
                link.textContent = `Experiment ${i}`;
                link.target = '_blank';
                link.rel = "noopener noreferrer";
                experimentLinksDiv.appendChild(link);
                experimentLinksDiv.appendChild(document.createElement('br'));
            }
        }
    </script>

</body>
</html>
